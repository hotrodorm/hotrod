// Autogenerated by EmpusaMB. Do not edit.

package com.company.daos.primitives;

import java.io.Serializable;
import java.sql.SQLException;
import java.util.List;

import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.hotrod.runtime.interfaces.DaoWithOrder;
import org.hotrod.runtime.interfaces.OrderBy;
import org.hotrod.runtime.interfaces.Persistable;
import org.hotrod.runtime.interfaces.UpdateByExampleDao;
import org.hotrod.runtime.tx.TxDemarcator;
import org.hotrod.runtime.tx.TxManager;

import com.company.daos.primitives.AccountDAOPrimitives.AccountOrderBy;
import com.company.daos.AccountDAO;
import com.company.daos.TransactionDAO;
import com.company.daos.primitives.TransactionDAOPrimitives.TransactionOrderBy;

public class AccountDAOPrimitives
    implements Persistable<AccountDAO, AccountOrderBy>, 
TxDemarcator, Serializable {

  private static final long serialVersionUID = 1L;

  // DAO Properties (table columns)

  protected java.lang.Integer id = null;
  protected java.lang.Integer currentBalance = null;
  protected java.lang.String name = null;
  protected java.sql.Date createdOn = null;

  // select by primary key

  public static AccountDAO select(final java.lang.Integer id) throws SQLException {
    TxManager txm = null;
    try {
      txm = getTxManager();
      SqlSession sqlSession = txm.getSqlSession();
      return select(sqlSession, id);
    } finally {
      if (txm != null && !txm.isTransactionOngoing()) {
        txm.close();
      }
    }
  }

  public static AccountDAO select(final SqlSession sqlSession, final java.lang.Integer id)
      throws SQLException {
    AccountDAO pk = new AccountDAO();
    pk.setId(id);
    return sqlSession.selectOne("com.company.daos.primitives.account.selectByPK", pk);
  }

  // select by unique indexes: no unique indexes found (besides the PK) -- skipped

  // select by example (with ordering)

  @Override
  public List<AccountDAO> select(final AccountOrderBy... orderBies)
      throws SQLException {
    TxManager txm = null;
    try {
      txm = getTxManager();
      SqlSession sqlSession = txm.getSqlSession();
      return select(sqlSession, orderBies);
    } finally {
      if (txm != null && !txm.isTransactionOngoing()) {
        txm.close();
      }
    }
  }

  @Override
  public List<AccountDAO> select(final SqlSession sqlSession, final AccountOrderBy... orderBies)
      throws SQLException {
    DaoWithOrder<AccountDAOPrimitives, AccountOrderBy> dwo = //
    new DaoWithOrder<AccountDAOPrimitives, AccountOrderBy>(this, orderBies);
    return sqlSession.selectList("com.company.daos.primitives.account.selectByExample", dwo);
  }

  // select parents by imported FKs: no imported keys found -- skipped

  // select children by exported FKs

  public class TransactionChildrenSelector {

    public List<TransactionDAO> byAccountId(final TransactionOrderBy... orderBies)
        throws SQLException {
      TxManager txm = null;
      try {
        txm = getTxManager();
        SqlSession sqlSession = txm.getSqlSession();
        return byAccountId(sqlSession, orderBies);
      } finally {
        if (txm != null && !txm.isTransactionOngoing()) {
          txm.close();
        }
      }
    }

    public List<TransactionDAO> byAccountId(final SqlSession sqlSession, final TransactionOrderBy... orderBies)
        throws SQLException {
      TransactionDAO filter = new TransactionDAO();
      filter.setAccountId(id);
      return filter.select(sqlSession, orderBies);
    }

  }

  public TransactionChildrenSelector selectChildrenTransaction() {
    return new TransactionChildrenSelector();
  }

  // insert

  @Override
  public int insert() throws SQLException {
    TxManager txm = null;
    try {
      txm = getTxManager();
      SqlSession sqlSession = txm.getSqlSession();
      int rows = insert(sqlSession);
      if (!txm.isTransactionOngoing()) {
        txm.commit();
      }
      return rows;
    } finally {
      if (txm != null && !txm.isTransactionOngoing()) {
        txm.close();
      }
    }
  }

  @Override
  public int insert(final SqlSession sqlSession) throws SQLException {
    return sqlSession.insert("com.company.daos.primitives.account.insert", this);
  }

  // update by PK

  public int update() throws SQLException {
    TxManager txm = null;
    try {
      txm = getTxManager();
      SqlSession sqlSession = txm.getSqlSession();
      int rows = update(sqlSession);
      if (!txm.isTransactionOngoing()) {
        txm.commit();
      }
      return rows;
    } finally {
      if (txm != null && !txm.isTransactionOngoing()) {
        txm.close();
      }
    }
  }

  public int update(final SqlSession sqlSession) throws SQLException {
    return sqlSession.update("com.company.daos.primitives.account.updateByPK", this);
  }

  // update by example

  @Override
  public int updateByExample(final AccountDAO updateValues) throws SQLException {
    TxManager txm = null;
    try {
      txm = getTxManager();
      SqlSession sqlSession = txm.getSqlSession();
      int rows = updateByExample(sqlSession, updateValues);
      if (!txm.isTransactionOngoing()) {
        txm.commit();
      }
      return rows;
    } finally {
      if (txm != null && !txm.isTransactionOngoing()) {
        txm.close();
      }
    }
  }

  @Override
  public int updateByExample(final SqlSession sqlSession, final AccountDAO updateValues) throws SQLException {
    UpdateByExampleDao<AccountDAOPrimitives> fvd = //
      new UpdateByExampleDao<AccountDAOPrimitives>(this, updateValues);
    return sqlSession.update("com.company.daos.primitives.account.updateByExample", fvd);
  }

  // delete by PK

  public int delete() throws SQLException {
    TxManager txm = null;
    try {
      txm = getTxManager();
      SqlSession sqlSession = txm.getSqlSession();
      int rows = delete(sqlSession);
      if (!txm.isTransactionOngoing()) {
        txm.commit();
      }
      return rows;
    } finally {
      if (txm != null && !txm.isTransactionOngoing()) {
        txm.close();
      }
    }
  }

  public int delete(final SqlSession sqlSession) throws SQLException {
    return sqlSession.delete("com.company.daos.primitives.account.deleteByPK", this);
  }

  // delete by example

  @Override
  public int deleteByExample() throws SQLException {
    TxManager txm = null;
    try {
      txm = getTxManager();
      SqlSession sqlSession = txm.getSqlSession();
      int rows = deleteByExample(sqlSession);
      if (!txm.isTransactionOngoing()) {
        txm.commit();
      }
      return rows;
    } finally {
      if (txm != null && !txm.isTransactionOngoing()) {
        txm.close();
      }
    }
  }

  @Override
  public int deleteByExample(final SqlSession sqlSession) throws SQLException {
    return sqlSession.delete("com.company.daos.primitives.account.deleteByExample", this);
  }

  // getters & setters

  public final java.lang.Integer getId() {
    return this.id;
  }

  public final void setId(final java.lang.Integer id) {
    this.id = id;
  }

  public final java.lang.Integer getCurrentBalance() {
    return this.currentBalance;
  }

  public final void setCurrentBalance(final java.lang.Integer currentBalance) {
    this.currentBalance = currentBalance;
  }

  public final java.lang.String getName() {
    return this.name;
  }

  public final void setName(final java.lang.String name) {
    this.name = name;
  }

  public final java.sql.Date getCreatedOn() {
    return this.createdOn;
  }

  public final void setCreatedOn(final java.sql.Date createdOn) {
    this.createdOn = createdOn;
  }

  // to string

  public String toString() {
    java.lang.StringBuilder sb = new java.lang.StringBuilder();
    sb.append("[");
    sb.append(this.id + ", ");
    sb.append(this.currentBalance + ", ");
    sb.append(this.name + ", ");
    sb.append(this.createdOn);
    sb.append("]");
    return sb.toString();
  }

  // DAO ordering

  public enum AccountOrderBy implements OrderBy {

    ID("ACCOUNT", "ID", true), //
    ID$DESC("ACCOUNT", "ID", false), //
    CURRENT_BALANCE("ACCOUNT", "CURRENT_BALANCE", true), //
    CURRENT_BALANCE$DESC("ACCOUNT", "CURRENT_BALANCE", false), //
    NAME("ACCOUNT", "NAME", true), //
    NAME$DESC("ACCOUNT", "NAME", false), //
    CREATED_ON("ACCOUNT", "CREATED_ON", true), //
    CREATED_ON$DESC("ACCOUNT", "CREATED_ON", false);

    private AccountOrderBy(final String tableName, final String columnName,
        boolean ascending) {
      this.tableName = tableName;
      this.columnName = columnName;
      this.ascending = ascending;
    }

    private String tableName;
    private String columnName;
    private boolean ascending;

    public String getTableName() {
      return this.tableName;
    }

    public String getColumnName() {
      return this.columnName;
    }

    public boolean isAscending() {
      return this.ascending;
    }

  }

  // Transaction demarcation

  private static TxManager txManager = null;

  public static TxManager getTxManager() throws SQLException {
    if (txManager == null) {
      synchronized (AccountDAOPrimitives.class) {
        if (txManager == null) {
          txManager = new TxManager(getSqlSessionFactory());
        }
      }
    }
    return txManager;
  }

  public static SqlSessionFactory getSqlSessionFactory() throws SQLException {
    return com.company.sessionfactory.SessionFactory.getInstance().getSqlSessionFactory();
  }

}
