<?xml version="1.0"?>
<!DOCTYPE empusa-mybatis SYSTEM "empusa-mybatis.dtd">

<empusa-mybatis>

  <layout>
    <daos gen-base-dir="src/main/java" dao-package="com.company.daos" />
    <mappers gen-base-dir="src/mybatis" relative-dir="mappers" />
    <mybatis-configuration-template file="mybatis-template.xml" />
    <session-factory singleton-full-class-name=
      "com.company.sessionfactory.SessionFactory" />
    <select-generation temp-view-base-name="mybatis_temp_view" />
  </layout>

  <table name="account">
    <auto-generated-column name="id" />
  </table>

  <table name="transaction">
    <auto-generated-column name="id" />
  </table>

  <view name="account_debit" />

  <select name="big_deposit">
      <![CDATA[
    select a.name , t.*
      from account a, transaction t
      where t.account_id = a.id
        {* and t.amount >= 
           #{min_amount,javaType=java.lang.Integer,jdbcType=NUMERIC} *}
      order by a.current_balance
      ]]>
  </select>

</empusa-mybatis>