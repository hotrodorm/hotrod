# Multiple VOs per Row

Instead of return a simple list of columns per row &mdash; as flat selects do &mdash; sometimes it may be 
convenient to assemble these columns as tuples of existing VOs and, thus, it's possible to reuse any 
customized properties and behavior.

As described in [Value Object Modeling](../crud/value-object-modeling.md) developers can extend the behavior
of the value objects with extra properties or methods.

Graph selects can capture the columns of a `SELECT` statement in one or more table (or view) VOs. For example, 
the query below:

```xml
<dao name="NightlyQueriesDAO">

  <select method="retrieveAccountsClient">
    select
      <columns vo="AcctClientVO">
        <vo table="account" property="account" alias="a" />
        <vo table="client" property="client" />c.name, c.type</vo>
      </columns>
    from account a
    join client c on c.id = a.client_id
    where a.active = 1
  </select>
  
</dao>
```

This select specifies that:

 - A new `NightlyQueriesDAO` class will be generated.
 - Notice that the main `<select>` tag does not include a `vo` attribute, so this is not a flat select.
 - The new DAO will include a method called `retrieveAccountsClient` to execute this query.
 - The query uses the `<vo>` tags to define the structure of the tuple.
 - The method will return a `List<AcctClientVO>`. `AcctClientVO` is a new VO generated automatically.
 - The new VO represents a tuple of VOs and as such will only have two properties: `account` and `client`. All 
 query columns will populate the existing types `AccountVO` and `ClientVO` from the CRUD module (defined
 by the `<table>` and/or `<view>` tags).
 - The `AccountVO` and `ClientVO` will reuse any custom properties or behavior added by the developer.
 
![](images/structured-select1.png)
 
Consider that:
 
 - If multiple VOs have columns with the same name HotRod automatically handles the case behind the scenes, by using different name spaces for each table.
 - The developer needs to take proper care to ensure the corresponding columns generated by the `<vo>` tag will be available from the FROM or JOIN clauses of the query. For example, the tag `<vo table="account" alias="a" />` requires that the query should name the table `account` with alias `a` in the FROM or JOIN clause. If not present, the rendered query won't be valid since the produced columns won't be valid. In this case, HotRod will show an error and will present the fully rendered query for revision.
 - If the `alias` property is specified all columns of the vo are included and the `<vo>` tag doesn't need any body (as in the `account` VO above).
 - If the `alias` property is not specified the body of the `<vo>` tag needs to include the entirety or a subset of the properties (as in the `client` VO above). This can be useful in the case of heavy properties that are not needed for this specific query. Of course, any excluded property will result is a `null` value in the Java VO property. The developer needs to ensure this partial data load leaves the VOs in a suitable state for further processing. 

