# The `<table>` Tag

A `<table>` tag tells the HotRod generator to include a table in the code generation. Each `<table>` tag adds one table
to the persistence layer.

## Attributes

In its simplest form this tag only specifies the table name. All table columns are inspected automatically and all DAO and VO
classes are generated according to the default settings. Names are produced in camel-case and property types are generated
according to the [default types for each database](../supported-databases.md).

The default rules for table and column names can be customized with [`<name-solver>`](./name-solver.md) rules. Data types
can also be customized with [`<type-solver>`](./type-solver.md) rules.

The `<table>` tag can include modifiers that can be useful in special cases, as shown below:

| Attribute | Description | Defaults to |
| --- | --- | --- |
| `name` | The name of the table in natural typing | Required |
| `catalog` | The catalog of the table, if different from the default one | The current catalog, specified in the runtime properties file |
| `schema` | The schema of the table, if different from the default one | The current schema, specified in the runtime properties file |
| `java-name` | Sets the base Java name for the DAO and VO classes | Camel-case identifier based on the database identifier |
| `column-seam` | Separator string to glue parts when producing a Java identifier from multiple columns | *empty-string* |

## Natural Typing Identifiers

See [Natural Typing Identifiers](../natural-typing-identifiers.md).

## Included Tags

The `<table>` tag can include the following tags:
- Zero or more `<column>` tags to customize table columns.
- An optional `<auto-generated-column>` to configure the auto-generation for the primary key of the table.
- An optional `<version-control-column>` to configure the optimistic locking for this table.
- Zero or more `<sequence>` tags to generate methods that retrieve sequence values.
- Zero or more `<query>` tags to generate methods for parameterized general purpose queries.
- Zero or more `<select>` tags to generate methods for parameterized select queries.


## Customizing Columns

The most common case for customizing columns happens when the name or type generated by the default rules are not convenient for the application. 
In this case the `<column>` tag can directly specify the property name and type for a column. This tag is optional and can be included
only for the columns that need to be superseded.

See the [`<column>`](./column.md) tag for more details.


## Specifying the Auto-Generation for a Primary Key

Nowadays, most databases provide comprehensive metadata about the primary key auto-generation details. However, if you deal with
and old database or an old JDBC driver that doesn't provide it you can use the tag `<auto-generated-column>` to add these details.

This tag can also add the sequence details for a primary key generation.

Finally, this tag can also be useful for databases that implement multiple auto-generated columns per table, such as PostgreSQL.

See [`<auto-generated-column>`](auto-generated-column.md).


## Optimistic Locking

By default no locking is implemented by HotRod. Tables can be queried and updated freely. However, if you need to implement optimistic
locking on a table you'll need to identify a column that will act as a version column for the row. With that decided you can activate
the optimistic locking by adding the tag `<version-control-column>` to the table. 

In short all UPDATE and DELETE implemented in the CRUS module will check for the unchanged and existent row before updating. If any change
took place on it (or if it was deleted) the persistence layer will throw a RuntimeException and the transaction will be aborted.

See [`<version-control-column>`](version-control-column.md) for details.


## Extra Persistence Methods

HotRod can add extra methods that could be related to the table to retrieve sequences, running general purpose queries, and Nitro queries.

See [`<sequence>`](sequence.md), [`<query>`](query.md), and [`<select>`](select.md).








