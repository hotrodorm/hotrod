<?xml version="1.0"?>
<!DOCTYPE hotrod SYSTEM "hotrod.dtd">

<hotrod>

  <generators>
    <mybatis-spring>
      <daos package="app5.persistence" 
        vo-prefix="" vo-suffix="VO"
        abstract-vo-prefix="Abstract" abstract-vo-suffix="VO" 
        dao-prefix="" dao-suffix="DAO" />
      <mappers dir="mappers" />
      <select-generation strategy="result-set" temp-view-base-name="tmp2" />
      <classic-fk-navigation />
    </mybatis-spring>
  </generators>

  <table name="product" />
  <table name="historic_price" />

  <table name="account" />
  <table name="item" />
  <table name="island" />
  <table name="transaction" />
  <table name="federal_branch" />
  <table name="types_binary" />
  <table name="types_other" />
  
  <dao name="MyQueries">

    <select method="findExpensiveProducts" vo="CheapProductVO" mode="cursor">
      <parameter name="minPrice" java-type="java.lang.Integer" jdbc-type="NUMERIC" />
      <parameter name="title" java-type="java.lang.String" jdbc-type="VARCHAR" />
      select name, price, #{title} as kind
      from product
      where price > #{minPrice}
    </select>
  
    <select method="findCheapestProducts">
      select
        <columns>
          <vo table="product" alias="p" />
        </columns>
      from product p
      where p.price between 0 and 3
    </select>  
  
  </dao>

</hotrod>
