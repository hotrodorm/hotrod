package org.hotrod.metadata;

import java.util.List;

import org.hotrod.exceptions.AutogeneratedKeysNotSupportedException;
import org.hotrod.generator.ParameterRenderer;
import org.hotrod.utils.identifiers.DataSetIdentifier;
import org.hotrod.utils.identifiers.Identifier;

public interface DataSetMetadata {

  String generateDAOName(Identifier identifier);

  String generatePrimitivesName(Identifier identifier);

  List<ColumnMetadata> getColumns();

  List<ColumnMetadata> getNonPkColumns();

  KeyMetadata getPK();

  DataSetIdentifier getIdentifier();

  String renderSQLIdentifier();

  List<KeyMetadata> getUniqueIndexes();

  List<ForeignKeyMetadata> getImportedFKs();

  List<ForeignKeyMetadata> getExportedFKs();

  List<SelectParameterMetadata> getParameters();

  List<SelectParameterMetadata> getParameterDefinitions();

  String getAugmentedSQL(); // The whole SQL definition including {*segments*}
                            // and #{parameters}

  String renderSQLSentence(ParameterRenderer parameterRenderer);

  AutoGeneratedColumnMetadata getAutoGeneratedColumnMetadata();

  VersionControlMetadata getVersionControlMetadata();

  String getAutoGeneratedKeySentence(AutoGeneratedColumnMetadata agcm) throws AutogeneratedKeysNotSupportedException;

}
