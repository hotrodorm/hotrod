digraph p1 {
  rankdir=BT; ranksep=0.3;
  graph [fontname = "helvetica", fontsize = 9]; node [fontname = "helvetica", fontsize = 9]; edge [fontname = "helvetica", fontsize = 9];
  labelloc="t"; label="SQL Execution Plan - 2018-09-03 10:11";
subgraph tree {
  1 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ff4646"><font point-size="18">134</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Nested Loop Inner Join</b></td></tr></table>>];
  2 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ff9e9e"><font point-size="18">71</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Aggregate</b></td></tr></table>>];
  3 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ff9f9f"><font point-size="18">69</font></td><td bgcolor="#ffeac1">405<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Hash Join Inner Join</b></td></tr></table>>];
  4 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffe6e6"><font point-size="18">18</font></td><td bgcolor="#ffeac1">810<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Seq Scan</b></td></tr></table>>];
  d4 [shape="box" style="filled" fillcolor="#ceefb3" label=<transaction t2>];
  5 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffc8c8"><font point-size="18">40</font></td><td bgcolor="#ffeac1">360<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Hash</b></td></tr></table>>];
  6 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffc8c8"><font point-size="18">40</font></td><td bgcolor="#ffeac1">360<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Seq Scan *6</b></td></tr></table>>];
  d6 [shape="box" style="filled" fillcolor="#ceefb3" label=<federal_branch b2>];
  7 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffe5e5"><font point-size="18">19</font></td><td bgcolor="#ffeac1">720<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Seq Scan *7</b></td></tr></table>>];
  d7 [shape="box" style="filled" fillcolor="#ceefb3" label=<federal_branch b8>];
  8 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffa8a8"><font point-size="18">63</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Nested Loop Inner Join</b></td></tr></table>>];
  9 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffaaaa"><font point-size="18">61</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Nested Loop Inner Join</b></td></tr></table>>];
  10 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffffff"><font point-size="18">0.2</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Result</b></td></tr></table>>];
  11 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffffff"><font point-size="18">0.2</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Limit</b></td></tr></table>>];
  12 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffa9a9"><font point-size="18">62</font></td><td bgcolor="#ffeac1">806<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Index Only Scan *12</b></td></tr></table>>];
  d12 [shape="box" style="filled" fillcolor="#ceefb3" label=<transaction t7<br/>{tx_account_id_time}>];
  13 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffabab"><font point-size="18">61</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Index Scan *13</b></td></tr></table>>];
  d13 [shape="box" style="filled" fillcolor="#ceefb3" label=<account a<br/>{account_pkey}>];
  14 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffb6b6"><font point-size="18">53</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Aggregate</b></td></tr></table>>];
  15 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffb6b6"><font point-size="18">53</font></td><td bgcolor="#ffeac1">2.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Hash Join Inner Join</b></td></tr></table>>];
  16 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffd2d2"><font point-size="18">33</font></td><td bgcolor="#ffeac1">4.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Hash Join Inner Join</b></td></tr></table>>];
  17 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffe8e8"><font point-size="18">17</font></td><td bgcolor="#ffeac1">720<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Seq Scan</b></td></tr></table>>];
  d17 [shape="box" style="filled" fillcolor="#ceefb3" label=<federal_branch b>];
  18 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffeeee"><font point-size="18">13</font></td><td bgcolor="#ffeac1">4.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Hash</b></td></tr></table>>];
  19 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffeeee"><font point-size="18">13</font></td><td bgcolor="#ffeac1">4.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Bitmap Heap Scan *19</b></td></tr></table>>];
  d19 [shape="box" style="filled" fillcolor="#ceefb3" label=<transaction t>];
  20 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#fffafa"><font point-size="18">4.2</font></td><td bgcolor="#ffeac1">4.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Bitmap Index Scan *20</b></td></tr></table>>];
  i20 [shape="box" style="filled" fillcolor="#a3f75d" label=<tx_account_id_time>];
  21 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffe4e4"><font point-size="18">20</font></td><td bgcolor="#ffeac1">40<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Hash</b></td></tr></table>>];
  22 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffe4e4"><font point-size="18">20</font></td><td bgcolor="#ffeac1">40<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#ffffff"><b>Aggregate</b></td></tr></table>>];
  23 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffe5e5"><font point-size="18">19</font></td><td bgcolor="#ffeac1">144<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Seq Scan *23</b></td></tr></table>>];
  d23 [shape="box" style="filled" fillcolor="#ceefb3" label=<federal_branch b7>];
  24 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#fffdfd"><font point-size="18">1.7</font></td><td bgcolor="#ffeac1">4.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Index Scan *24</b></td></tr></table>>];
  d24 [shape="box" style="filled" fillcolor="#ceefb3" label=<transaction t4<br/>{tx_account_id_time}>];
  25 [shape=none width=0 height=0 margin=0 style="rounded" color="gray40" label=<<table cellspacing="0" border="0" cellborder="1"><tr><td width="60%" bgcolor="#ffffff"><font point-size="18">0.2</font></td><td bgcolor="#ffeac1">1.0<br/>rows</td><td bgcolor="#e0e0e0">--</td></tr><tr><td colspan="3" bgcolor="#d3e4ff"><b>Index Scan *25</b></td></tr></table>>];
  d25 [shape="box" style="filled" fillcolor="#ceefb3" label=<federal_branch b5<br/>{federal_branch_pkey}>];
  2 -> 1 [color="#963232" penwidth=1.0];
  3 -> 2 [color="#f4 5 5" penwidth=7.3];
  4 -> 3 [color="#ff 0 0" penwidth=8.0];
  d4 -> 4 [color="blue" arrowhead=none penwidth=1];
  5 -> 3 [color="#f2 6 6" penwidth=7.2];
  6 -> 5 [color="#f2 6 6" penwidth=7.2];
  d6 -> 6 [color="blue" arrowhead=none penwidth=1];
  7 -> 6 [color="#fd 1 1" penwidth=7.9];
  d7 -> 7 [color="blue" arrowhead=none penwidth=1];
  8 -> 1 [color="#963232" penwidth=1.0];
  9 -> 8 [color="#963232" penwidth=1.0];
  10 -> 9 [color="#963232" penwidth=1.0];
  11 -> 10 [color="#963232" penwidth=1.0];
  12 -> 11 [color="#ff 0 0" penwidth=8.0];
  d12 -> 12 [color="blue" arrowhead=none penwidth=1];
  13 -> 9 [color="#963232" penwidth=1.0];
  d13 -> 13 [color="blue" arrowhead=none penwidth=1];
  14 -> 13 [color="#963232" penwidth=1.0];
  15 -> 14 [color="#a12d2d" penwidth=1.7];
  16 -> 15 [color="#ac2828" penwidth=2.4];
  17 -> 16 [color="#fd 1 1" penwidth=7.9];
  d17 -> 17 [color="blue" arrowhead=none penwidth=1];
  18 -> 16 [color="#ac2828" penwidth=2.4];
  19 -> 18 [color="#ac2828" penwidth=2.4];
  d19 -> 19 [color="blue" arrowhead=none penwidth=1];
  20 -> 19 [color="#ac2828" penwidth=2.4];
  i20 -> 20 [color="blue" arrowhead=none penwidth=1];
  21 -> 15 [color="#d01616" penwidth=4.9];
  22 -> 21 [color="#d01616" penwidth=4.9];
  23 -> 22 [color="#e4 d d" penwidth=6.2];
  d23 -> 23 [color="blue" arrowhead=none penwidth=1];
  24 -> 8 [color="#ac2828" penwidth=2.4];
  d24 -> 24 [color="blue" arrowhead=none penwidth=1];
  25 -> 1 [color="#963232" penwidth=1.0];
  d25 -> 25 [color="blue" arrowhead=none penwidth=1];
}
subgraph key {
    rank=min; p [fontname = "monospace", shape=plaintext, style=solid, label="Predicates:\l  *6  Filter: (NOT (hashed SubPlan 2))\l  *7  Filter: ((name)::text ~~ '%y%'::text)\l  *12  Access: UNIQUE INDEX tx_account_id_time ON transaction USING btree (account_id, \"time\")\l       Access: (account_id IS NOT NULL)\l  *13  Access: UNIQUE INDEX account_pkey ON account USING btree (id)\l       Access: (id = ($3))\l       Filter: (((current_balance)::numeric < (5::numeric * $2)) AND ((current_balance)::numeric < (3::numeric * (SubPlan 1))))\l  *19  Filter: (account_id = a.id)\l  *20  Access: UNIQUE INDEX tx_account_id_time ON transaction USING btree (account_id, \"time\")\l       Access: (account_id = a.id)\l  *23  Filter: ((name)::text ~~ '%ar%'::text)\l  *24  Access: UNIQUE INDEX tx_account_id_time ON transaction USING btree (account_id, \"time\")\l       Access: (account_id = a.id)\l  *25  Access: UNIQUE INDEX federal_branch_pkey ON federal_branch USING btree (id)\l       Access: (id = t4.fed_branch_id)\l"];
}
}
